webpackJsonp([1,4],{"09TC":function(e,t){},"4YLX":function(e,t){},"6UI3":function(e,t){},"7t1S":function(e,t){},"A/QD":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW");t.default=new a.default},Kd5f:function(e,t){},Klkh:function(e,t){},"L/hj":function(e,t,i){"use strict";t.b=function(e){var t={},i=[];return location.search.substr(1).split("&").map(function(e){return i=e.split("="),t[i[0]]=decodeURIComponent(i[1])}),t},t.a=function(e){var t;return(t=new n.a).setPublicKey("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDAIpI7ZPsdqlNNCJ5qZChqNis6tiKWdKv8J2G3pd/+GiKRKqFrTnyY7Ux4sk/G890ZcUeKzKkgAYiF2xoY+So0ZFaunvslszjn2B+XTLiZrIoF1KL2kVeHWoxsScyZndNbGf6RWiuon6bu9B9T1GdEkLNV4Z/MJ+xQ+UyI4cva2wIDAQAB"),t.encrypt(e)};var a=i("4C6m"),n=i.n(a)},SHyX:function(e,t){},TL5K:function(e,t){e.exports="data:image/png;base64,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"},U67u:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"index-wrapper"},[t("transition",[t("keep-alive",[t("router-view")],1)],1)],1)},staticRenderFns:[]},s=i("VU/8")(null,n,!1,null,null,null).exports,o=i("/ocq"),r=i("fZjL"),c=i.n(r),l=i("A/QD"),d=7,u={name:"ChoosePackage",filters:{limitText:function(e,t){return e.length>t?e.substr(0,t-d)+"...":e}},data:function(){return{pkg:{},feeDetail:"",list:[],feeDetailUrl:""}},created:function(){var e=this;l.default.$on("package-img",function(t){e.feeDetailUrl=t,t||(d=0,e.feeDetail=e.pkg.feeDetail||"")})},mounted:function(){var e=this;this.$http.get("/tyk/getPackages",{params:{provinceId:urlParams.provinceId,activeId:urlParams.activeId}}).then(function(t){var i=t.datas||[];e.list=i,e.pkg=e.list[0],e.feeDetail=e.list[0].feeDetail,l.default.$emit("pkg-change",e.list[0])}).catch(function(e){console.log(e)})},methods:{goProtocol:function(){var e=this.feeDetailUrl;this.$router.push({name:"Protocol",params:{imgUrl:e}})},choosePackage:function(e,t){if(t.id!==this.pkg.id){l.default.$emit("pkg-change",t);var i=document.documentElement.style.fontSize.replace("px",""),a=e.currentTarget.getBoundingClientRect().left/i-.4+1;this.pkg=t,this.feeDetail=t.feeDetail,this.$refs.arrowUp.style.left=(a>=8.6?8.6:a)+"rem"}}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.list.length>1?a("section",{staticClass:"choose-package"},[a("div",{staticClass:"package-box"},e._l(e.list,function(t){return a("div",{class:["package",t.id==e.pkg.id&&"active"],on:{click:function(i){e.choosePackage(i,t)}}},[a("span",{staticClass:"price"},[e._v(e._s(t.fee))]),e._v(" "),a("span",{staticClass:"name"},[e._v(e._s(t.packageName))])])})),e._v(" "),a("div",{staticClass:"price-desc clear-float"},[e._v("\n    "+e._s(e._f("limitText")(e.feeDetail,79))+"\n    "),a("a",{directives:[{name:"show",rawName:"v-show",value:e.feeDetailUrl,expression:"feeDetailUrl"}],staticClass:"link",on:{click:e.goProtocol}},[e._v("资费详情 >")]),e._v(" "),a("img",{ref:"arrowUp",staticClass:"arrow-up",attrs:{src:i("VqZ0"),alt:""}})])]):1===e.list.length?a("section",{staticClass:"single-package"},[a("div",{staticClass:"left-box"},e._l(e.list,function(t){return a("div",{staticClass:"package active"},[a("span",{staticClass:"price"},[e._v(e._s(t.fee))]),e._v(" "),a("span",{staticClass:"name"},[e._v(e._s(t.packageName))])])})),e._v(" "),a("div",{staticClass:"right-box"},[e._v("\n    "+e._s(e._f("limitText")(e.feeDetail,49))+"\n    "),a("a",{directives:[{name:"show",rawName:"v-show",value:e.feeDetailUrl,expression:"feeDetailUrl"}],staticClass:"link",on:{click:e.goProtocol}},[e._v("资费详情 >")])])]):e._e()},staticRenderFns:[]};var m=i("VU/8")(u,h,!1,function(e){i("6UI3")},"data-v-c912c532",null).exports,f=i("mvHQ"),v=i.n(f),p=i("i/JV"),g=i("Au9i"),b=i.n(g),k={filters:{formatNumber:function(e){var t=e.toString();return[t.substr(0,3),t.substr(3,4),t.substr(7,4)].join("-")}},props:["numberPickerVisible"],data:function(){return{first:!0,currNumber:"",list:[],keyword:"",pkg:{},home:{},params:{},loading:!1,notFound:!1,closeShow:!1}},computed:{visible:{get:function(){return this.first&&this.numberPickerVisible&&(this.first=!1,this.fetchNumbers()),this.numberPickerVisible?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),this.numberPickerVisible},set:function(e){}}},created:function(){var e=this;l.default.$on("pkg-change",function(t){e.pkg=t,e.$emit("change","")}),l.default.$on("home-change",function(t){e.home=t,e.$emit("change","")})},mounted:function(){var e=this;document.querySelectorAll("input").forEach(function(t){999!==t.tabIndex&&(t.tabIndex=-1,console.log(t),t.onfocus=function(t){e.numberPickerVisible&&e.handleClose()})}),window.onresize=function(t){console.log(t);var i=window.innerHeight;e.$refs.numberPopup.$el.style.top=i<360?"-60px":"auto"}},methods:{handleClear:function(){this.keyword="",this.fetchNumbers()},handleKeywordInput:function(e){this.keyword=e.currentTarget.value;var t=this.keyword;t.length>4&&(this.keyword=t.substr(0,4))},search:function(){var e=this.keyword.length;0!==e?e<3||e>4?this.toast("请输入3~4位幸运号码"):this.fetchNumbers():this.toast("请输入要搜索的号段")},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exclamation",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return Object(g.Toast)({message:e,iconClass:"iconfont icon-"+t,duration:i})},handleCheck:function(e){this.currNumber=e,this.handleClose()},handleClose:function(){var e=this;this.$emit("change",this.currNumber),this.keyword="",setTimeout(function(){e.currNumber="",e.$emit("update:numberPickerVisible",!1),e.first=!0},200)},fetchNumbers:function(){var e=this;this.loading=!0;var t=urlParams.activeId,i=this.home,a=i.province,n=i.city;a&&(n=n||a,this.params={sku:this.pkg.skuid,packageId:this.pkg.id,provinceId:a.id,cityId:n.id||a.id,numberSize:10,activeId:t,keyword:this.keyword},this.list=[],this.$http.get("/tyk/searchNumber",{params:this.params}).then(function(t){e.loading=!1,e.list=t.datas||[],0===e.list.length?e.notFound=!0:e.currNumber=e.list[0]}).catch(function(t){console.log(t),e.loading=!1}))}}},C={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("mt-popup",{ref:"numberPopup",staticClass:"number-popup",attrs:{closeOnClickModal:!1,position:"bottom"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("header",{staticClass:"header"},[e._v("\n    请选择号码"),i("span",{staticClass:"close",on:{click:e.handleClose}},[e._v("×")])]),e._v(" "),i("section",{staticClass:"phone-wrap"},[i("div",{staticClass:"search-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],ref:"keyword",attrs:{tabIndex:"999",type:"tel",placeholder:"请输入3~4位幸运号码"},domProps:{value:e.keyword},on:{input:[function(t){t.target.composing||(e.keyword=t.target.value)},e.handleKeywordInput],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search(t)}}}),e._v(" "),i("input",{staticStyle:{display:"none"},attrs:{type:"text"}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.keyword,expression:"keyword"}],staticClass:"clear",on:{click:e.handleClear}}),e._v(" "),i("a",{staticClass:"search-btn",on:{click:e.search}},[e._v("搜索")])]),e._v(" "),e.list.length>0?i("div",{staticClass:"list-box"},[i("div",{staticClass:"list"},e._l(e.list,function(t){return i("div",{class:["item",t==e.currNumber&&"checked"],on:{click:function(i){e.handleCheck(t)}}},[e._v("\n          "+e._s(e._f("formatNumber")(t))+"\n        ")])})),e._v(" "),i("a",{staticClass:"change-btn",on:{click:e.fetchNumbers}},[e._v("换一批")])]):e.loading?i("div",{staticClass:"loading-text"},[e._v("\n      请稍等，正在搜索号码...\n    ")]):e.notFound?i("div",{staticClass:"loading-text"},[e._v("\n      您选择的号码被别人买走了，下手要快哦～\n    ")]):e._e()])])},staticRenderFns:[]};var y=i("VU/8")(k,C,!1,function(e){i("SHyX")},null,null).exports,A=i("O4Lo"),w=i.n(A),x=i("kvU2"),P=i.n(x),I={name:"FormInfo",components:{CityPicker:p.a,NumberPicker:y},filters:{toText:function(e){return c()(e).map(function(t){return e[t].name}).join(" ")}},data:function(){return{useragent:"",protocolImg:"",liability:"",modalVisible:!1,scope:0,homeArea:[],addressArea:[],areaList:[],level:2,numberPickerVisible:!1,popupVisible:!1,currentInput:"",defaultData:[],username:"",form:{homeLocation:{},phone:"",username:"",idCard:"",contact:"",address:{},addressDesc:"",checked:!1},position:{}}},computed:{formatNumber:{get:function(e){var t=this.form.phone.toString();return t?[t.substr(0,3),t.substr(3,4),t.substr(7,4)].join("-"):""},set:function(e){}}},watch:{form:{deep:!0,handler:function(e,t){this.emitForm(e)}}},created:function(){var e=urlParams,t=e.provinceId,i=e.activeId,a=e.areaCode;this.fetchActiveInfo(i),t||a?this.fetchHomeArea():(g.Indicator.open({text:"定位中...",spinnerType:"double-bounce"}),window.navigator.geolocation.getCurrentPosition(this.geolocation,this.deniedGeolocation))},mounted:function(){},methods:{handelNoneAreaList:function(){window.location.href="//m-eve.jd.com/tyk/index",this.modalVisible=!1},getCity:function(e,t){var i={};return e.forEach(function(e){i[e.id]=e}),t?i[t]:i},goProtocol:function(){var e=this.protocolImg;this.$router.push({name:"Protocol",params:{imgUrl:e}})},fetchActiveInfo:function(e){var t=this;this.$http.get("/tyk/getActivityInfo",{params:{activeId:e}}).then(function(e){var i=e.datas;t.scope=i.scope,t.protocolImg=i.agreementUrl,t.liability=i.liability,l.default.$emit("package-img",i.feeDetailUrl)}).catch(function(e){console.log(e)})},setFirstAsDefault:function(e){var t=e[0],i=this.getCity(t.areaList),a=i[c()(i)[0]];[1,2,3,4].indexOf(+t.id)>-1?this.form.homeLocation={province:{id:t.id,name:t.name}}:this.form.homeLocation={province:{id:t.id,name:t.name},city:{id:a.id,name:a.name}},this.fetchAddressArea(t.id)},fetchHomeArea:function(){var e=this,t=urlParams,i=t.areaCode,a=t.cityId,n=t.activeId,s=t.provinceId;this.$http.get("/tyk/getPhoneNumberArea",{params:{activityId:n,provinceId:s,areaCode:i,cityId:a}}).then(function(t){var n=t.datas;if(t.success){if(e.homeArea=n.areaList||[],0===e.homeArea.length)return void(e.modalVisible=!0);if(i){var s=e.getCity(e.homeArea,i),o=e.getCity(s.areaList,a);e.form.homeLocation={province:{id:s.id,name:s.name}},o&&(e.form.homeLocation.city={id:o.id,name:o.name}),e.fetchAddressArea()}else console.log("set first"),e.setFirstAsDefault(e.homeArea);l.default.$emit("home-change",e.form.homeLocation)}})},deniedGeolocation:function(e){var t=urlParams;t.provinceId,t.activeId;g.Indicator.close(),0===this.homeArea.length&&this.fetchHomeArea(),l.default.$emit("home-change",this.form.homeLocation)},geolocation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("geolocation");var i=t.coords||{},a=i.latitude,n=i.longitude,s=urlParams,o=s.provinceId,r=s.activeId,c=s.areaCode,d=s.cityId;this.$http.get("/tyk/getPhoneNumberArea",{params:{lon:n,lat:a,activityId:r,provinceId:o,areaCode:c,cityId:d}}).then(function(t){var i=t.datas;if(t.success){var a=i.position;if(e.homeArea=i.areaList||[],0===e.homeArea.length)return void(e.modalVisible=!0);if(a){var n=a.provinceId,s=a.cityId,o=a.provinceName,r=a.cityName;[1,2,3,4].indexOf(+n)>-1?e.form.homeLocation={province:{id:n,name:o}}:e.form.homeLocation={province:{id:n,name:o},city:{id:s,name:r}},l.default.$emit("home-change",e.form.homeLocation),e.fetchAddressArea()}else e.deniedGeolocation()}g.Indicator.close()}).catch(function(e){console.log(e),g.Indicator.close()})},emitForm:w()(function(e){this.$emit("input",e)},500),showHomePopup:function(){if(0===this.homeArea.length)return Object(g.Toast)("无可切换地址");var e=this.form.homeLocation;this.areaList=this.homeArea,this.level=2,this.currentInput="home",this.defaultData=c()(e).map(function(t){return e[t].id}),this.popupVisible=!0},showAddressPopup:function(){if(0===this.addressArea.length)return Object(g.Toast)("无可切换地址");var e=this.form.address;this.areaList=this.addressArea,this.level=3,this.currentInput="address",this.defaultData=c()(e).map(function(t){return e[t].id}),this.popupVisible=!0},onNumberChange:function(e){this.form.phone=e},handleCityPickerChange:function(e){var t=this.currentInput;"home"===t?(this.form.homeLocation=e,this.form.address=e,this.fetchAddressArea(),l.default.$emit("home-change",this.form.homeLocation)):"address"===t&&(this.form.address=e),console.log(v()(e))},fetchAddressArea:function(){var e=this;this.form.address=P()(this.form.homeLocation);var t=urlParams.activeId,i=this.form.homeLocation.province.id,a=this.form.homeLocation.city&&this.form.homeLocation.city.id;this.$http.get("/tyk/getAddressArea",{params:{activityId:t,provinceId:i,cityId:a}}).then(function(t){var i=t.datas||[];e.addressArea=i})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-info"},[a("p",{staticClass:"header"},[e._v("请选择号码")]),e._v(" "),a("div",{staticClass:"input-field arrow",on:{click:e.showHomePopup}},[a("label",[e._v("号码归属")]),e._v(" "),a("img",{attrs:{src:i("TL5K"),alt:""}}),e._v(" "),a("span",[e._v(e._s(e._f("toText")(e.form.homeLocation)))])]),e._v(" "),a("mt-field",{staticClass:"arrow",attrs:{disableClear:"",label:"选择号码",placeholder:"点击开始选择号码",readonly:""},nativeOn:{click:function(t){e.numberPickerVisible=!0}},model:{value:e.formatNumber,callback:function(t){e.formatNumber=t},expression:"formatNumber"}}),e._v(" "),a("p",{staticClass:"header"},[e._v("入网信息")]),e._v(" "),a("mt-field",{attrs:{label:"机主姓名",placeholder:"请填写身份证件姓名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),a("mt-field",{attrs:{label:"身份证号",placeholder:"请填写18位身份证号码"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}}),e._v(" "),a("mt-field",{attrs:{type:"number",label:"联系电话",placeholder:"请输入联系电话"},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}}),e._v(" "),a("p",{staticClass:"header"},[e._v("\n    配送地址\n    "),1==e.scope?a("span",[a("i",{staticClass:"iconfont icon-info"}),e._v("支持全国配送")]):2==e.scope||3==e.scope?a("span",[e._v("仅支持号码归属地配送")]):e._e()]),e._v(" "),a("div",{staticClass:"input-field arrow",on:{click:e.showAddressPopup}},[a("label",[e._v("所在地区")]),e._v(" "),Object.keys(e.form.address).length>0?a("span",[e._v(e._s(e._f("toText")(e.form.address)))]):a("span",{staticStyle:{color:"#ccc"}},[e._v("请选择区/县")])]),e._v(" "),a("mt-field",{attrs:{label:"详细地址",placeholder:"请填写街道/镇+村/小区+门牌号"},model:{value:e.form.addressDesc,callback:function(t){e.$set(e.form,"addressDesc",t)},expression:"form.addressDesc"}}),e._v(" "),a("div",{staticClass:"protocol"},[a("i",{class:["checkbox",e.form.checked&&"check-active"],on:{click:function(t){e.form.checked=!e.form.checked}}}),e._v("\n    "+e._s(e.liability)+" "),e.protocolImg?a("a",{on:{click:e.goProtocol}},[e._v("《入网协议》")]):e._e()]),e._v(" "),a("CityPicker",{attrs:{areaList:e.areaList,defaultData:e.defaultData,level:e.level},on:{"on-finish":e.handleCityPickerChange},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}}),e._v(" "),a("NumberPicker",{ref:"numberPicker",attrs:{numberPickerVisible:e.numberPickerVisible},on:{"update:numberPickerVisible":function(t){e.numberPickerVisible=t},change:e.onNumberChange}}),e._v(" "),a("mt-popup",{staticClass:"diy-modal single-btn",staticStyle:{top:"230px"},attrs:{position:"center"},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[a("p",{staticClass:"modal-con"},[e._v("没有归属地，请返回重新选择")]),e._v(" "),a("div",{staticClass:"btns-flexbox"},[a("div",{staticClass:"btn-cancel",on:{click:e.handelNoneAreaList}},[e._v("我知道了")])])])],1)},staticRenderFns:[]};var N=i("VU/8")(I,D,!1,function(e){i("Kd5f")},null,null).exports,L=i("L/hj"),T={name:"FillInformation",components:{ChoosePackage:m,FormInfo:N},data:function(){return{result:"success",formData:{},nonValid:!1,pkg:{}}},watch:{formData:{deep:!0,handler:function(){this.nonValid=this.nonValidate(!1)}}},created:function(){var e=this;l.default.$on("pkg-change",function(t){return e.pkg=t})},methods:{handleChoosePackage:function(e){},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exclamation",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;return Object(g.Toast)({message:e,iconClass:"iconfont icon-"+t,duration:i})},nonValidate:function(e){var t=this.formData||{};return c()(t.homeLocation||{}).length<1?(console.log("请选择归属地"),!1):t.phone?t.username?t.idCard?t.contact?0===c()(t.address||{}).length?(console.log("请选择你的配送区/县"),!1):t.addressDesc?!!t.checked||(console.log("请勾选《入网协议》"),!1):(console.log("请填写详细地址"),!1):(console.log("请填写联系电话"),!1):(console.log("请填写身份证号码"),!1):(console.log("请填写机主姓名"),!1):(console.log("请选择号码"),!1)},validate:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.formData||{};return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(t.idCard)?/^1[3|4|5|7|8]\d{9}$/.test(t.contact)?c()(t.address||{}).length<3?(e&&this.toast("请选择你的配送区/县"),!1):!!t.address.area.name||(e&&this.toast("请选择你的配送区/县"),!1):(e&&this.toast("联系电话格式错误"),!1):(e&&this.toast("身份证号码格式错误"),!1)},getParams:function(){var e=this.formData,t=e.homeLocation,i=e.phone,a=e.username,n=e.idCard,s=e.contact,o=e.address,r=e.addressDesc,c=this.pkg,l=c.activeId,d=c.id,u=o.province,h=o.city,m=o.area,f=t.province,v=t.city;return v&&v.id||(v=f),{activeId:l,packageId:d,phonenum:i,realName:a,cardId:Object(L.a)(n),phone:s,provinceId:f.id,provinceName:f.name,cityId:v.id,cityName:v.name,addressProvinceId:u.id,addressCityId:h.id,addressCountyId:m.id,addressProvinceName:u.name,addressCityName:h.name,addressCountyName:m.name,address:r,channel:urlParams.channel,orderId:urlParams.orderId}},submit:function(){var e=this;if(this.nonValid&&this.validate()){var t=this.getParams(),i=this.toast("正在校验领取资格...","clock");this.$http.get("/tyk/order",{params:t}).then(function(t){i.close(),e.$nextTick(function(){e.$router.push({name:"Result",params:t})},200)})}}}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-fill-information"},[i("ChoosePackage",{on:{"on-choose":e.handleChoosePackage}}),e._v(" "),i("FormInfo",{model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),e._v(" "),i("div",{class:["submit-btn",e.nonValid&&"submit-active"],on:{click:e.submit}},[e._v("立即领卡")])],1)},staticRenderFns:[]};var R=i("VU/8")(T,_,!1,function(e){i("7t1S")},null,null).exports,V={name:"Result",data:function(){return{}},mounted:function(){},methods:{go:function(e){window.location.href="wangting"==e?"//pro.m.jd.com/mall/active/2g6zWZQ7dwTGDRsMg19BdN1U5T5o/index.html":"//m.jd.com/"}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-result"},[e.$route.params.success?a("div",{staticClass:"success"},[a("img",{attrs:{src:i("vcK1"),alt:""}}),e._v(" "),a("p",[e._v("恭喜，领取成功！")]),e._v(" "),a("p",{staticClass:"message"},[e._v(e._s(e.$route.params.message))]),e._v(" "),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"back-btn",on:{click:function(t){e.go("wangting")}}},[e._v("回网厅")]),e._v(" "),a("div",{staticClass:"go-btn",on:{click:e.go}},[e._v("去首页")])])]):a("div",{staticClass:"fail"},[a("img",{attrs:{src:i("fDk1"),alt:""}}),e._v(" "),a("p",[e._v(e._s(e.$route.params.message))])])])},staticRenderFns:[]};var E=i("VU/8")(V,U,!1,function(e){i("4YLX")},null,null).exports,F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-protocol"},[t("img",{attrs:{src:this.$route.params.imgUrl,alt:"没配置图片..."}})])},staticRenderFns:[]};var S=i("VU/8")({},F,!1,function(e){i("iVga")},null,null).exports;a.default.use(o.a);var O=new o.a({routes:[{path:"/",name:"FillInformation",component:R},{path:"/result",name:"Result",component:E},{path:"/protocol",name:"Protocol",component:S}]}),G=(i("d8/S"),i("n5Qe")),Q=i("v5o6"),K=i.n(Q);i("sVYa"),i("xsZ7"),i("vTGl");window.urlParams=Object(L.b)(),a.default.prototype.$http=G.a,a.default.use(b.a),a.default.config.debug=!0,a.default.config.devtools=!0,a.default.config.productionTip=!1,new a.default({el:"#app",router:O,components:{App:s},template:"<App/>"}),document.querySelector('meta[name="viewport"]').setAttribute("content","initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"),"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){K.a.attach(document.body)},!1),K.a.attach(document.body)},VqZ0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAsCAYAAADLlo5MAAAABGdBTUEAALGPC/xhBQAAAZJJREFUaAXt2sFKxDAQBuBpdQURvPr+z+ZFL4KCKO1uYxPNGu1utkkmk79tBoYOaXP5SOjlb9RYVCtYoA3eUTcYAVg4dehJN2pBwmmw7vXJNCoeHJxBe3smpQbTnZ4BTx4U3BFtOFB7vTOtxhkRDwbuP9ru9o50a0BEPAi4U2j2p4CKVxzOh4aMVxRuDhoqXjG4EDREvCJwMWhoeOJwKWhIeKJwHGgoeGJwnGgIeCJwOdBK42WHy4lWEi8rnARaKbxscJJoJfCywJVAk8ZjhyuJJonHCoeAJoXHBoeEJoHHAoeIlhsvGQ4ZLSdeEtwS0HLhRcMtCS0HXhTcEtG48YLhlozGiRcEtwY0LrzZcGtC48CbBbdGtFS8i3BrRkvB88JtAS0W7yzcltBi8E7CbREtFG8Ct2W0ELw/cBXN0tHFiNkRrqL9otnJFzEzcBXNUk2f5/CaYd8pExX9iY/qD2tNBfqPdxr2PTXtFd3cP1Dz+fI45pS/M7cVbQrmrrh4bUVzafyze21bHU6uJ80P5r61eF9CKbqLKqWk7gAAAABJRU5ErkJggg=="},"d8/S":function(e,t){},fDk1:function(e,t,i){e.exports=i.p+"static/img/cry.0606576.png"},"i/JV":function(e,t,i){"use strict";var a=i("fZjL"),n=i.n(a),s={name:"cityPicker",props:{areaList:{type:Array,default:[]},value:{type:Boolean,default:!1},defaultData:{type:Array,default:function(){return[]}},level:{type:Number,default:2}},data:function(){return{selected:{province:{id:"",name:""},city:{id:"",name:""},area:{id:"",name:""}},Province:{},Citys:{},Areas:{},curTabs:1,wrapperHeight:{}}},computed:{visible:function(){return this.value?document.body.style.overflow="hidden":document.body.style.overflow="",this.value},level2:function(){return n()(this.Citys).length>0},level3:function(){return n()(this.Areas).length>0}},watch:{value:function(e){this.Province=this.formatData(this.areaList),e&&this.defaultData.length>0&&this.setDefaultData(this.defaultData)}},mounted:function(){},created:function(){},methods:{isMunicipality:function(e){return[1,2,3,4].indexOf(+e)>-1},formatData:function(e){var t={};return e.forEach(function(e){t[e.id]=e}),t},getCitys:function(e){return this.formatData(this.Province[e].areaList)},getAreas:function(e){return this.formatData(this.Citys[e].areaList)},close:function(){this.Citys={},this.Areas={},this.selected=this.$options.data().selected,this.curTabs=1,this.$emit("input",!1)},handleWrapper:function(e){"city-picker-container"===e.target.className&&this.close()},handleProvince:function(e){var t=e.id,i=e.name,a={},s=this.level;this.isMunicipality(t)&&2===this.level&&(s=1),this.selected.province.id!==t&&s>1&&(a=this.getCitys(t),this.Citys=a),this.selected.city.id="",this.selected.city.name="",this.selected.area.name="",this.selected.area.id="",this.Areas=[],this.selected.province.id=t,this.selected.province.name=i,n()(a).length>0?this.curTabs=2:this.finish()},handleCity:function(e){var t=e.id,i=e.name,a={};this.selected.city.id!==t&&this.level>2&&(a=this.getAreas(t),n()(a).length>0&&(this.Areas=a,this.selected.area.id="",this.selected.area.name="",this.curTabs=3)),this.selected.city.id=t,this.selected.city.name=i,0===n()(a).length&&this.finish()},handleArea:function(e){var t=e.id,i=e.name;this.selected.area.id=t,this.selected.area.name=i,this.finish()},handleTabs:function(e){this.curTabs=e},finish:function(){var e=this,t={};n()(this.selected).forEach(function(i){t[i]={},t[i].id=e.selected[i].id,t[i].name=e.selected[i].name}),this.close(),this.$emit("on-finish",t)},setDefaultData:function(e){var t=1,i=[];if(e.forEach(function(e){""!==e&&void 0!==e&&i.push(e.toString())}),0===i.length)return!1;if(this.selected.province={id:i[0],name:this.Province[i[0]].name},!this.isMunicipality(i[0])||2!==this.level){var a=this.getCitys(i[0]);if(n()(a).length>0){if(this.Citys=a,this.isMunicipality(i[0])&&!i[1])return void(this.curTabs=2);if(i[1]=i[1]||n()(a)[0],this.selected.city={id:i[1],name:a[i[1]].name},t=2,3===this.level){t=3;var s=this.getAreas(i[1]);n()(s).length>0&&(this.Areas=s,i[2]&&(this.selected.area={id:i[2],name:s[i[2]].name}))}}return console.log(t),this.curTabs=t,!0}this.curTabs=t},afterEnterAnimation:function(){this.wrapperHeight={height:"70%"}},beforeLeaveAnimation:function(){this.wrapperHeight={}}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"city-picker-transition"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"addressPopup",staticClass:"city-picker-container",on:{click:e.handleWrapper}},[i("transition",{attrs:{name:"citypicker-slide"},on:{"after-enter":e.afterEnterAnimation,"before-leave":e.beforeLeaveAnimation}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"wrapper",style:e.wrapperHeight},[i("div",{staticClass:"head"},[e._v("\n          所在地区\n          "),i("span",{staticClass:"close",on:{click:e.close}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"con"},[i("div",{staticClass:"tab"},[i("span",{class:1===e.curTabs?"tabCur":"",on:{click:function(t){e.handleTabs(1)}}},[e._v("\n              "+e._s(e.selected.province.name||"请选择")+"\n            ")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.level2,expression:"level2"}],class:2===e.curTabs?"tabCur":"",on:{click:function(t){e.handleTabs(2)}}},[e._v("\n              "+e._s(e.selected.city.name||"请选择")+"\n            ")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.level3,expression:"level3"}],class:3===e.curTabs?"tabCur":"",on:{click:function(t){e.handleTabs(3)}}},[e._v("\n              "+e._s(e.selected.area.name||"请选择")+"\n            ")])]),e._v(" "),i("div",{staticClass:"tab-con"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.curTabs,expression:"curTabs === 1"}],staticClass:"province"},e._l(e.Province,function(t,a){return i("span",{key:t.id,class:t.id==e.selected.province.id?"selected":"",on:{click:function(i){e.handleProvince(t)}}},[e._v("\n              "+e._s(t.name)+"\n              ")])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.curTabs,expression:"curTabs === 2"}],staticClass:"city"},e._l(e.Citys,function(t,a){return i("span",{key:t.id,class:t.id==e.selected.city.id?"selected":"",on:{click:function(i){e.handleCity(t)}}},[e._v("\n              "+e._s(t.name)+"\n              ")])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===e.curTabs,expression:"curTabs === 3"}],staticClass:"area"},e._l(e.Areas,function(t,a){return i("span",{key:t.id,class:t.id==e.selected.area.id?"selected":"",on:{click:function(i){e.handleArea(t)}}},[e._v("\n              "+e._s(t.name)+"\n              ")])}))])])])])],1)])},staticRenderFns:[]};var r=i("VU/8")(s,o,!1,function(e){i("Klkh"),i("09TC")},"data-v-283daeb6",null);t.a=r.exports},iVga:function(e,t){},n5Qe:function(e,t,i){"use strict";var a=i("//Fk"),n=i.n(a),s=i("mtWM"),o=i.n(s),r=i("Au9i"),c=i.n(r);o.a.defaults.baseURL="http://m-eve.jd.com",o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.a.defaults.withCredentials=!0,o.a.interceptors.request.use(function(e){return e},function(e){return n.a.reject(e)}),o.a.interceptors.response.use(function(e){var t=e.data;if(0!==t.state)return t;var i=location.href;window.location.href="https://plogin.m.jd.com/user/login.action?appid=461&returnurl="+encodeURIComponent(i)},function(e){return c.a.Toast("网络故障，请重试"),n.a.reject(e)}),t.a=o.a},vTGl:function(e,t){},vcK1:function(e,t,i){e.exports=i.p+"static/img/get-success.078ac76.png"},xsZ7:function(e,t){}},["U67u"]);